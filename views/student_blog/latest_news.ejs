<!doctype html>
<html class="no-js" lang="zxx">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>News  HTML-5 Template </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="site.webmanifest">
    <link rel="shortcut icon" type="image/x-icon" href="/blog/img/favicon.ico">
    <link rel="shortcut icon" type="image/x-icon" href="/blog/img/favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    
    <!-- CSS here -->
    <link rel="stylesheet" href="/blog/css/bootstrap.min.css">
    <link rel="stylesheet" href="/blog/css/owl.carousel.min.css">
    <link rel="stylesheet" href="/blog/css/ticker-style.css">
    <link rel="stylesheet" href="/blog/css/flaticon.css">
    <link rel="stylesheet" href="/blog/css/slicknav.css">
    <link rel="stylesheet" href="/blog/css/animate.min.css">
    <link rel="stylesheet" href="/blog/css/magnific-popup.css">
    <link rel="stylesheet" href="/blog/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="/blog/css/themify-icons.css">
    <link rel="stylesheet" href="/blog/css/slick.css">
    <link rel="stylesheet" href="/blog/css/nice-select.css">
    <link rel="stylesheet" href="/blog/css/style.css">
    <style>
        /* Comment Section Styles */
        .user-profile {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 20px;
            background: white;
            border-radius: 50px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }
    
        .dropdown {
            display: none; /* Hidden by default */
            position: absolute;
            top: 100%;
            left: 0;
            width: 200px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            margin-top: 8px;
            z-index: 1001;
        }
    
        /* Show dropdown when parent has dropdown-open class */
        .login-container.dropdown-open .dropdown {
            display: block;
        }
    
        .dropdown a {
            display: block;
            padding: 12px 16px;
            color: #333;
            text-decoration: none;
            transition: background 0.2s;
        }
    
        .dropdown a:hover {
            background: #f0f2f5;
        }
    
        .dropdown .logout {
            color: #ed4141;
            border-top: 1px solid #e5e7eb;
        }
    
        .login-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 24px;
            border: none;
            border-radius: 50px;
            background: #ed4141;
            color: white;
            text-decoration: none;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(237, 65, 65, 0.3);
        }
    
        .user-profile img {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            object-fit: cover;
        }
    
    .comment-section {
        width: 90%;
        margin: 30px auto;
        font-family: Arial, sans-serif;
        background-color: #f9f9f9;
        padding: 20px;
        border-radius: 8px;
    }
    
    .comment-title {
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 20px;
        color: #333;
    }
    
    .comment {
        background-color: #fff;
        padding: 15px;
        margin-bottom: 15px;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    
    .comment-header {
        display: flex;
        justify-content: space-between;
        font-size: 14px;
        color: #777;
    }
    
    .comment-username {
        font-weight: bold;
        color: #333;
    }
    
    .comment-body {
        margin-top: 10px;
        font-size: 16px;
        line-height: 1.5;
        color: #555;
    }
    
    .comment-footer {
        margin-top: 15px;
        font-size: 12px;
        color: #aaa;
    }
    
    .card{
    
    background-color: #fff;
    border: none;
    }
    
    
    
    .c-badge{
    background-color: #ed4141;
    color: white;
    height: 20px;
    font-size: 11px;
    width: 92px;
    border-radius: 5px;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 2px;
    }
    
    .comment-text{
    font-size: 13px;
    }
    
    .wish{
    
    color:#35b69f;
    }
    
    
    .user-feed{
    
        font-size: 14px;
        margin-top: 12px;
    }

    .like-button {
    background: transparent;  
    border: none;  
    color: #ff6600;           
    cursor: pointer;
    padding: 5px 10px;
    font-size: 1.2em;
    transition: all 0.3s ease; 
}



.wish {
    color: #ff6600;             
}

.wish i {
    margin-right: 5px;          
    color: #ff6600;             
}

.like-button:active {
    transform: scale(0.95);     
}

.login-container.dropdown-open .dropdown {
        display: block;
    }

    .dropdown a {
        display: block;
        padding: 12px 16px;
        color: #333;
        text-decoration: none;
        transition: background 0.2s;
    }

    .dropdown a:hover {
        background: #f0f2f5;
    }

    .dropdown .logout {
        color: #ed4141;
        border-top: 1px solid #e5e7eb;
    }

    .login-btn {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 24px;
        border: none;
        border-radius: 50px;
        background: #ed4141;
        color: white;
        text-decoration: none;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 6px rgba(237, 65, 65, 0.3);
    }

    .user-profile img {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        object-fit: cover;
    }

    </style>
</head>
    
<body>
<!-- Preloader Start -->
<div id="preloader-active">
    <div class="preloader d-flex align-items-center justify-content-center">
        <div class="preloader-inner position-relative">
            <div class="preloader-circle"></div>
            <div class="preloader-img pere-text">
                <img src="/blog/img/logo/logo.png" alt="">
            </div>
        </div>
    </div>
</div>
<!-- Preloader Start -->
<header>
    <!-- Header Start -->
    <div class="header-area">
        <div class="main-header ">
            <div class="header-top black-bg d-none d-sm-block">
                <div class="container">
                    <div class="col-xl-12">
                        <div class="row d-flex justify-content-between align-items-center">
                            <div class="header-info-left">
                                <ul>     
                                    <li class="title"><span class="flaticon-energy"></span> trending-title</li>
                                    <li>Class property employ ancho red multi level mansion</li>
                                </ul>
                            </div>
                            <div class="header-info-right">
                                <ul class="header-date">
                                    <li><span class="flaticon-calendar"></span> +880166 253 232</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header-mid gray-bg">
                <div class="container">
                    <div class="row d-flex align-items-center">
                        <!-- Logo -->
                        <div class="col-xl-3 col-lg-3 col-md-3 d-none d-md-block">
                            <div class="logo">
                                <a href="#"><img src="/blog/img/logo/logo.png" alt=""></a>
                            </div>
                        </div>
                        <div class="col-xl-9 col-lg-9 col-md-9">
                            <div class="header-banner f-right ">
                                <img src="/blog/img/gallery/header_card.png" alt="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header-bottom header-sticky">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-xl-8 col-lg-8 col-md-12 header-flex">
                            <!-- sticky -->
                            <div class="sticky-logo">
                                <a href="#"><img src="/blog/img/logo/logo.png" alt=""></a>
                            </div>
                            <!-- Main-menu -->
                            <div class="main-menu d-none d-md-block">
                                <nav>                  
                                    <ul id="navigation">
                                        <li><a href="/student_blog">Home</a></li>
                                        <li><a href="#">about</a></li>
                                        <li><a href="#">Category</a></li>
                                        <li><a href="#">Latest News</a></li>
                                        <li><a href="#">Pages</a>
                                            <ul class="submenu">
                                                <li><a href=#">Blog</a></li>
                                                <li><a href="#">Blog Details</a></li>
                                                <li><a href="#">Element</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#">Contact</a></li>
                                    </ul>
                                </nav>
                            </div>
                        </div>             
                        <div class="col-xl-4 col-lg-4 col-md-4">
                            <div class="header-right f-right d-none d-lg-block">
                                <!-- Heder social -->
                                <!-- <ul class="header-social">    
                                    <li><a href="https://www.fb.com/sai4ull"><i class="fab fa-facebook-f"></i></a></li>
                                    <li><a href="#"><i class="fab fa-twitter"></i></a></li>
                                    <li><a href="#"><i class="fab fa-instagram"></i></a></li>
                                    <li> <a href="#"><i class="fab fa-youtube"></i></a></li>
                                </ul>
                                 Search Nav -->
                                <!-- <div class="nav-search search-switch">
                                    <i class="fa fa-search"></i>
                                </div> -->
                                <div class="login-container">
                                    <% if (username) { %>
                                        <!-- User Profile -->
                                        <div class="user-profile">
                                            <img src="/blog/img/loggedin.png" alt="User Avatar">
                                            <span class="user-name"><%= username %></span>
                                            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                                <path d="M6 9l6 6 6-6"/>
                                            </svg>
                                        </div>
                                        <!-- Dropdown Menu -->
                                        <div class="dropdown">
                                            <a href="/myportfolio">Profile</a>
                                            <a href="">Edit Portfolio</a>
                                            <a href="" data-bs-toggle="modal" data-bs-target="#exampleModal">Post a Blog</a>

                                            <a href="/download-cv">download portfolio</a>

                                            <a href="/student_logout" class="logout">Logout</a>

                                            
                                            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                <div class="modal-dialog modal-dialog-scrollable modal-lg">
                                                  <div class="modal-content">
                                                    <div class="modal-header">
                                                      <h5 class="modal-title" id="exampleModalLabel">Create a Post</h5>
                                                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                    </div>
                                                    <div class="modal-body">
                                                      <form id="createPostForm" action="/api/post" method="post" enctype="multipart/form-data" novalidate>
                                                        <div class="form-floating mb-3">
                                                          <select class="form-select" id="categorySelect" name="categoryId" required>
                                                            <option value="" disabled selected>Select a Category</option>
                                                            <% categories.forEach(category => { %>
                                                              <option value="<%= category.categoryId %>"><%= category.category %></option>
                                                            <% }) %>
                                                          </select>
                                                          <label for="categorySelect">Category</label>
                                                        </div>
                                                        <div class="mb-3">
                                                          <label for="titleInput" class="form-label">Title</label>
                                                          <input type="text" class="form-control" id="titleInput" name="title" required>
                                                        </div>
                                                        <div class="mb-3">
                                                          <label for="bodyTextarea" class="form-label">Body</label>
                                                          <textarea class="form-control" id="bodyTextarea" name="message" rows="5" required></textarea>
                                                        </div>
                                                        <div class="mb-3">
                                                          <label for="fileInput" class="form-label">Upload File</label>
                                                          <input type="file" class="form-control" id="fileInput" name="file">
                                                        </div>
                                                        <div class="modal-footer">
                                                          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                                          <button type="submit" class="btn btn-primary">Post</button>
                                                        </div>
                                                      </form>
                                                      
                                                    </div>
                                                  </div>
                                                </div>
                                              </div>



                                        </div>
                                    <% } else { %>
                                        <!-- Login Link -->
                                        <a href="/login_blog" class="login-btn">
                                            <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                                <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4M10 17l5-5-5-5M15 12H3"/>
                                            </svg>
                                            Login
                                        </a>
                                    <% } %>
                                </div>
                                
                            </div>
                        </div>
                        <!-- Mobile Menu -->
                        <div class="col-12">
                            <div class="mobile_menu d-block d-md-none"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Header End -->
</header>
<main>
    <!-- About US Start -->
    <div class="about-area2 gray-bg pt-60 pb-60">
        <div class="container">
                <div class="row">
                    <div class="col-lg-8">
                        <!-- Trending Tittle -->
                        <div class="about-right mb-90">
                            <div class="about-img">
                                <img src="<%= blog.file %>" alt="">
                            </div>
                            <div class="heading-news mb-10 pt-10">
                                <% if (blog) { %>
                                    <h3><%- blog.title %></h3>
                                <% } else { %>
                                    <h3>No Blog Found</h3>
                                <% } %>
                            </div>
                            <div class="about-prea">
                                <% if (blog) { %>
                                    <%- blog.message %>
                                  
                                   
                                <% } else { %>
                                    <p>The blog content is unavailable.</p>
                                <% } %>

                                
                            </div>
                            <% if (blog) { %>
                                <div class="like-forms" data-id="<%= blog.id %>">
                                    <button type="button" class="like-button">
                                        <span class="wish">
                                            <i class="fa fa-heartbeat mr-2"></i>
                                        </span>
                                    </button>
                                    <span class="like-count"><%= blog.likes %></span>
                                </div>
                            <% } else { %>
                                <p>No blog found.</p>
                            <% } %>
                            
                           
                            
                          
                            


                                <div class="container mt-5 mb-5">
                                    <div class="row height d-flex justify-content-center align-items-center">
                                       <div class="col-md-12">
                                         <div class="card">

                                          <div class="p-3">
                        
                                            <h6>Comments</h6>                                            
                                          </div>                                            
                        
                                          <div class="mt-2">             
                                          
                                            <% comments.forEach(comment => { %>

                        
                                          <div class="d-flex flex-row p-3">
                        
                                              <img src="https://i.imgur.com/agRGhBc.jpg" width="40" height="40" class="rounded-circle mr-3">
                        
                                              <div class="w-100">
                        
                                                <div class="d-flex justify-content-between align-items-center">
                                                    <div class="d-flex flex-row align-items-center">
                                                      <span class="mr-2"><%= comment.username %></span>
                                                      <small class="c-badge">Top Comment</small>
                                                    </div>
                                                    <small>Posted on: <%= comment.created_at %></small>
                                              </div>
                        
                                              <p class="text-justify comment-text mb-0"> <%= comment.comment_text %></p>
                        
                                              <!-- <div class="d-flex flex-row user-feed">
                                                <form class="like-form" data-id=" comment>
                                                    <button type="submit" class="like-button">
                                                        <span class="wish">
                                                            <i class="fa fa-heartbeat mr-2"></i>
                                                        </span>
                                                    </button>
                                                </form>
                                            
                                                
                                              </div> -->
                                              
                                            </div>
                                            
                        
                                          </div>
                                          <% }); %>

                                        </div>
                                        
                                      </div>
                                      
                                    </div>
                                    </div>
                                    
                                  </div>




                                
                            <!-- <div class="social-share pt-30">
                                <div class="section-tittle">
                                    <h3 class="mr-20">Share:</h3>
                                    <ul>
                                        <li><a href="#"><img src="/blog/img/news/icon-ins.png" alt=""></a></li>
                                        <li><a href="#"><img src="/blog/img/news/icon-fb.png" alt=""></a></li>
                                        <li><a href="#"><img src="/blog/img/news/icon-tw.png" alt=""></a></li>
                                        <li><a href="#"><img src="/blog/img/news/icon-yo.png" alt=""></a></li>
                                    </ul>
                                </div>
                            </div>
                        </div> -->



                       
                        </ul>
                        <!-- From -->
                        <div class="row">
                            <div class="col-lg-8">
                                <!-- comment section -->
                                <form class="form-contact contact_form mb-80" action="/student_blog/blogs/<%= blog.id %>/comment" method="post" id="contactForm" >
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="form-group">
                                                <textarea class="form-control w-100 error" name="comment_text" id="message" cols="30" rows="9" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Enter Message'" placeholder="Enter Message"></textarea>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <input class="form-control error" name="username" id="name" type="text" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Enter your name'" placeholder="Enter your name">
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <input class="form-control error" name="email" id="email" type="email" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Enter email address'" placeholder="Email">
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-group">
                                                <input class="form-control error" name="subjects" id="subject" type="text" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Enter Subject'" placeholder="Enter Subject">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group mt-3">
                                        <button type="submit"  class="button button-contactForm boxed-btn boxed-btn2 " name="submit">Send</button>
                                        <!-- class="button button-contactForm boxed-btn boxed-btn2 -->
                                    </div>
                                </form>
                              <!-- <script>
                                    document.getElementById('form-contact').addEventListener('submit', function(event) {
                                        event.preventDefault();
                                        if (window.location.search.includes('success=true')) {
                                                form.reset(); // This will clear all form fields
                                            }
                                           console.log('Test form submitted!');
                                    });
                                </script> -->
                                <!-- <script>
                                    // Wait for the DOM to load before adding event listeners
                                    document.addEventListener('DOMContentLoaded', function () {
                                        const form = document.getElementById('contactForm');
                                        
                                        // Handle the form submit event
                                        form.addEventListener('submit', function(event) {
                                            event.preventDefault(); // Prevent the page from redirecting
                                            
                                            // Get the form data
                                            const formData = new FormData(form);
                                            
                                            // Send the form data via AJAX
                                            fetch(form.action, {
                                                method: 'POST',
                                                body: formData,
                                            })
                                            .then(response => response.json())
                                            .then(data => {
                                                if (data.success) {
                                                    // Handle success (e.g., display a success message, update the UI)
                                                    alert('Comment added successfully');
                                                    
                                                    // Optionally, clear the form fields after submission
                                                    form.reset();
                                                } else {
                                                    // Handle error (e.g., display an error message)
                                                    alert('Error submitting comment');
                                                }
                                            })
                                            .catch(error => {
                                                console.error('Error:', error);
                                                alert('Something went wrong. Please try again later.');
                                            });
                                        });
                                    });
                                </script> -->
                                
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <!-- Flow Socail -->
                        <div class="single-follow mb-45">
                            <div class="single-box">
                                <div class="follow-us d-flex align-items-center">
                                    <div class="follow-social">
                                        <a href="#"><img src="/blog/img/news/icon-fb.png" alt=""></a>
                                    </div>
                                    <div class="follow-count">  
                                        <span>8,045</span>
                                        <p>Fans</p>
                                    </div>
                                </div> 
                                <div class="follow-us d-flex align-items-center">
                                    <div class="follow-social">
                                        <a href="#"><img src="/blog/img/news/icon-tw.png" alt=""></a>
                                    </div>
                                    <div class="follow-count">
                                        <span>8,045</span>
                                        <p>Fans</p>
                                    </div>
                                </div>
                                    <div class="follow-us d-flex align-items-center">
                                    <div class="follow-social">
                                        <a href="#"><img src="/blog/img/news/icon-ins.png" alt=""></a>
                                    </div>
                                    <div class="follow-count">
                                        <span>8,045</span>
                                        <p>Fans</p>
                                    </div>
                                </div>
                                <div class="follow-us d-flex align-items-center">
                                    <div class="follow-social">
                                        <a href="#"><img src="/blog/img/news/icon-yo.png" alt=""></a>
                                    </div>
                                    <div class="follow-count">
                                        <span>8,045</span>
                                        <p>Fans</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- New Poster -->
                        <div class="news-poster d-none d-lg-block">
                            <img src="/blog/img/news/news_card.jpg" alt="">
                        </div>
                    </div>
                </div>
        </div>
    </div>
    <!-- About US End -->
</main>
<footer>
    <!-- Footer Start-->
    <div class="footer-main footer-bg">
        <div class="footer-area footer-padding">
            <div class="container">
                <div class="row d-flex justify-content-between">
                    <div class="col-xl-3 col-lg-3 col-md-5 col-sm-8">
                        <div class="single-footer-caption mb-50">
                            <div class="single-footer-caption mb-30">
                                <!-- logo -->
                                <div class="footer-logo">
                                    <a href="#"><img src="/blog/img/logo/logo2_footer.png" alt=""></a>
                                </div>
                                <div class="footer-tittle">
                                    <div class="footer-pera">
                                        <p class="info1">Lorem ipsum dolor sit amet, nsectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore.</p>
                                        <p class="info2">198 West 21th Street, Suite 721 New York,NY 10010</p>
                                        <p class="info2">Phone: +95 (0) 123 456 789 Cell: +95 (0) 123 456 789</p>
                                </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-4 col-lg-4 col-md-5 col-sm-7">
                        <div class="single-footer-caption mb-50">
                            <div class="footer-tittle">
                                <h4>Popular post</h4>
                            </div>
                            <!-- Popular post -->
                            <div class="whats-right-single mb-20">
                                <div class="whats-right-img">
                                    <img src="/blog/img/gallery/footer_post1.png" alt="">
                                </div>
                                <div class="whats-right-cap">
                                    <h4><a href="details.html">Scarlett’s disappointment at latest accolade</a></h4>
                                    <p>Jhon  |  2 hours ago</p> 
                                </div>
                            </div>
                            <!-- Popular post -->
                            <div class="whats-right-single mb-20">
                                <div class="whats-right-img">
                                    <img src="/blog/img/gallery/footer_post2.png" alt="">
                                </div>
                                <div class="whats-right-cap">
                                    <h4><a href="details.html">Scarlett’s disappointment at latest accolade</a></h4>
                                    <p>Jhon  |  2 hours ago</p> 
                                </div>
                            </div>
                            <!-- Popular post -->
                            <div class="whats-right-single mb-20">
                                <div class="whats-right-img">
                                    <img src="/blog/img/gallery/footer_post3.png" alt="">
                                </div>
                                <div class="whats-right-cap">
                                    <h4><a href="details.html">Scarlett’s disappointment at latest accolade</a></h4>
                                    <p>Jhon  |  2 hours ago</p> 
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-5 col-sm-7">
                        <div class="single-footer-caption mb-50">
                            <div class="banner">
                                <img src="/blog/img/gallery/body_card4.png" alt="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- footer-bottom aera -->
        <div class="footer-bottom-area footer-bg">
            <div class="container">
                <div class="footer-border">
                        <div class="row d-flex align-items-center">
                            <div class="col-xl-12 ">
                                <div class="footer-copy-right text-center">
                                    <p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
  Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
  <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
                                </div>
                            </div>
                        </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer End-->
</footer>
<!-- Search model Begin -->
<div class="search-model-box">
    <div class="d-flex align-items-center h-100 justify-content-center">
        <div class="search-close-btn">+</div>
        <form class="search-model-form">
            <input type="text" id="search-input" placeholder="Searching key.....">
        </form>
    </div>
</div>
<!-- Search model end -->

<!-- JS here -->

    <script src="/blog/js/vendor/modernizr-3.5.0.min.js"></script>
    <!-- Jquery, Popper, Bootstrap -->
    <script src="/blog/js/vendor/jquery-1.12.4.min.js"></script>
    <script src="/blog/js/popper.min.js"></script>
    <script src="/blog/js/bootstrap.min.js"></script>
    <!-- Jquery Mobile Menu -->
    <script src="/blog/js/jquery.slicknav.min.js"></script>

    <!-- Jquery Slick , Owl-Carousel Plugins -->
    <script src="/blog/js/owl.carousel.min.js"></script>
    <script src="/blog/js/slick.min.js"></script>
    <!-- Date Picker -->
    <script src="/blog/js/gijgo.min.js"></script>
    <!-- One Page, Animated-HeadLin -->
    <script src="/blog/js/wow.min.js"></script>
    <script src="/blog/js/animated.headline.js"></script>
    <script src="/blog/js/jquery.magnific-popup.js"></script>

    <!-- Scrollup, nice-select, sticky -->
    <script src="/blog/js/jquery.scrollUp.min.js"></script>
    <script src="/blog/js/jquery.nice-select.min.js"></script>
    <script src="/blog/js/jquery.sticky.js"></script>
    
    <!-- contact js -->
    <!-- <script src="/blog/js/contact.js"></script> -->
    <!-- <script src="/blog/js/jquery.form.js"></script> -->
    <script src="/blog/js/jquery.validate.min.js"></script>
    <script src="/blog/js/mail-script.js"></script>
    <script src="/blog/js/jquery.ajaxchimp.min.js"></script>
    
    <!-- Jquery Plugins, main Jquery -->	
    <script src="/blog/js/plugins.js"></script>
    <script src="/blog/js/main.js"></script>
 
 
    <script>

        function toggleDropdown() {
            document.querySelector('.login-container').classList.toggle('dropdown-open');
        }
    
        // Add click event to user profile
        const userProfile = document.querySelector('.user-profile');
        if (userProfile) {
            userProfile.addEventListener('click', toggleDropdown);
        }
    
        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const container = document.querySelector('.login-container');
            if (container && !container.contains(event.target)) {
                container.classList.remove('dropdown-open');
            }
        });
    
        // Handle logout
        document.querySelector('.logout')?.addEventListener('click', function(e) {
            e.preventDefault();
            window.location.href = '/logout';
        });
    
    
    
    
    
    
    
    </script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const form = document.getElementById('contactForm');
        const commentsContainer = document.getElementById('comments');

        form.addEventListener('submit', (event) => {
            event.preventDefault(); // Prevent page reload

            const formData = new FormData(form);
            const jsonData = Object.fromEntries(formData);

            fetch(form.action, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(jsonData),
            })
                .then((response) => response.json())
                .then((data) => {
                    if (data.success) {
                        alert(data.message); // Show a success message

                        // Optionally, add the new comment dynamically
                        // const newComment = document.createElement('div');
                        // newComment.textContent = jsonData.comment_text;
                        // commentsContainer.prepend(newComment); // Add new comment at the top

                        form.reset(); // Clear the form
                    } else {
                        alert(`Error: ${data.message}`); // Show an error message
                    }
                })
                .catch((error) => {
                    console.error('Error:', error);
                    alert('An error occurred while submitting your comment.');
                });
        });
    });
</script>
 <script>
    document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('contactForm');

    fetch(form.action, {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
    },
    body: JSON.stringify(jsonData),
})
    .then((response) => response.text()) // Use .text() to inspect raw response
    .then((text) => {
        console.log('Raw Response:', text);
        try {
            const data = JSON.parse(text); // Attempt to parse if it looks like JSON
            console.log('Parsed JSON:', data);
        } catch (e) {
            console.error('Error parsing JSON:', e);
            alert('Invalid response from server');
        }
    })
    .catch((error) => {
        console.error('Error:', error);
        alert('An error occurred while submitting the form.');
    });

    });


   </script>
   <!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> -->

   <script>

document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.like-forms').forEach(form => {
        form.querySelector('.like-button').addEventListener('click', async (e) => {
            e.preventDefault(); // Prevent any default behavior

            const postId = form.dataset.id; // Get the dynamic ID from the data-id attribute
            const likeCountSpan = form.querySelector('.like-count'); // Get the like count element

            try {
                // Send a POST request to the server to update the like count
                const response = await fetch(`/student_blog/likePosts/${postId}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({}) // Send empty body since we don't need extra data
                });

                const data = await response.json(); // Parse the JSON response

                if (response.ok && data.success) {
                    // Update the like count in the UI
                    const currentLikes = parseInt(likeCountSpan.textContent, 10) || 0;
                    likeCountSpan.textContent = currentLikes + 1;
                } else if (data.message === 'You must be logged in to like a post') {
                    // If the user is not logged in, redirect them to the login page
                    window.location.href = '/login_blog'; // Adjust the URL if needed
                } else {
                    alert('Failed to add like: ' + (data.message || 'Unknown error'));
                }
            } catch (error) {
                console.error('Fetch Error:', error); // Log error details
                alert('Error processing your request. Please try again.');
            }
        });
    });
});

    </script>
    
    
    
    
</body>
</html>